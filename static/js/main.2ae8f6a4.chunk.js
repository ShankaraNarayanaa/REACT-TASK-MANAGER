(this["webpackJsonpTask Manager"]=this["webpackJsonpTask Manager"]||[]).push([[0],{175:function(e,t,n){},389:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(29),s=n.n(c),i=n(62),u=n(30),o="/signup",l="/signin",j="/boards",b="/boards/:board",d=(n(175),n(5)),O=n(9),h=n(60),x=(n(142),a.a.createContext(null)),f=n(11),m=function(e){return function(t){return Object(u.h)((function(n){return Object(r.useEffect)((function(){h.a.auth().onAuthStateChanged((function(t){e(t)||n.history.push(l)}))}),[n.history]),Object(r.useContext)(x)?Object(f.jsx)(t,Object(d.a)({},n)):null}))}},p=n(395),v=n(393),g=n(396),w=n(397);n(390);h.a.apps.length||h.a.initializeApp({apiKey:"AIzaSyBbm75gKrf7TVrrEmgTxIHHT65_MvVrhwo",authDomain:"react-trello-clone-51b0e.firebaseapp.com",projectId:"react-trello-clone-51b0e",storageBucket:"react-trello-clone-51b0e.appspot.com",messagingSenderId:"106309940838",appId:"1:106309940838:web:5b2bc7eae512b34cd1dfa7",measurementId:"G-TL0XDG0THS"});var y,N=h.a.auth(),k=h.a.database(),S=new h.a.auth.GoogleAuthProvider,C=function(){return h.a.auth()},I=function(e,t){return C().createUserWithEmailAndPassword(e,t)},T=function(){return C().signOut()},A=function(){return C().currentUser},B=function(e,t,n){return k.ref("users/".concat(e)).set({username:t,email:n})},E=function(e,t){return C().signInWithEmailAndPassword(e,t)},P=Object(u.h)((function(){return Object(f.jsxs)("nav",{className:"flex justify-between bg-blue-500 text-white px-3 py-2 absolute z-10 top-0 left-0 right-0",children:[Object(f.jsx)(i.b,{to:j,children:Object(f.jsx)("div",{className:"w-8 h-8 flex bg-blue-400 justify-center items-center rounded text-white",children:Object(f.jsx)(g.a,{})})}),Object(f.jsx)(p.a,{overlay:Object(f.jsx)(v.a,{children:Object(f.jsx)(v.a.Item,{onClick:function(){return T()},children:"Sign Out"},"0")}),trigger:["click"],children:Object(f.jsx)("div",{className:"w-8 h-8 flex bg-blue-400 justify-center items-center rounded text-white",children:Object(f.jsx)(w.a,{})})})]})})),D=n(1),U=n(6),M=n(391),F=n(392),W=n(59),G=n(398),K=n(399),z=function(e){var t=e.onSubmit,n=Object(r.useState)(""),a=Object(O.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)(""),u=Object(O.a)(i,2),o=u[0],l=u[1],j=Object(r.useState)(""),b=Object(O.a)(j,2),d=b[0],h=b[1],x=Object(r.useState)(!1),m=Object(O.a)(x,2),p=m[0],v=m[1],g=Object(r.useState)(null),w=Object(O.a)(g,2),y=w[0],N=w[1],k=function(){var e=Object(U.a)(Object(D.a)().mark((function e(){return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,t(o,d,c);case 4:v(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),N(e.t0.message),v(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{className:"text-xl mb-3 text-center",children:"Sign Up"}),Object(f.jsxs)(M.a,{onFinish:function(e){return k(e)},className:"login-form",children:[Object(f.jsx)(M.a.Item,{name:"username",children:Object(f.jsx)(F.a,{prefix:Object(f.jsx)(G.a,{style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username",onChange:function(e){return s(e.target.value)}})}),Object(f.jsx)(M.a.Item,{name:"email",children:Object(f.jsx)(F.a,{prefix:Object(f.jsx)(G.a,{style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email",onChange:function(e){return l(e.target.value)}})}),Object(f.jsx)(M.a.Item,{name:"newPassword",children:Object(f.jsx)(F.a,{prefix:Object(f.jsx)(K.a,{style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password",onChange:function(e){return h(e.target.value)}})}),Object(f.jsx)(M.a.Item,{className:"my-3",children:Object(f.jsx)(W.a,{type:"primary",htmlType:"submit",className:"w-full",loading:p,children:"Sign Up"})}),Object(f.jsx)("div",{className:"text-red-500",children:y})]})]})},H=Object(u.h)((function(){var e=Object(u.g)(),t=function(){var t=Object(U.a)(Object(D.a)().mark((function t(n,r,a){var c;return Object(D.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I(n,r);case 2:return c=t.sent,t.next=5,B(c.user.uid,a,n);case 5:e.push(j);case 6:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}();return Object(f.jsx)("div",{className:"flex h-full",children:Object(f.jsx)("div",{className:"w-64 m-auto",children:Object(f.jsx)(z,{onSubmit:t})})})})),J="SET_USER",L=function(e,t){return t.type===J?Object(d.a)(Object(d.a)({},e),{},{user:t.user}):e},R=Object(r.createContext)(),V=function(e){var t=e.reducer,n=e.initialState,a=e.children;return Object(f.jsx)(R.Provider,{value:Object(r.useReducer)(t,n),children:a})},_=function(){return k.ref("users").child(A().uid).child("boards")},X=function(e){return _().child(e)},$=_,q=function(e){return X(e).once("value")},Q=function(e){return _().push(e)},Y=function(e,t){return X(e).update(t)},Z=function(){var e=Object(r.useState)(""),t=Object(O.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(O.a)(c,2),l=s[0],b=s[1],d=Object(r.useState)(null),h=Object(O.a)(d,2),x=h[0],m=h[1],p=Object(r.useState)(!1),v=Object(O.a)(p,2),g=v[0],w=v[1],y=Object(r.useContext)(R),k=Object(O.a)(y,2)[1],C=Object(u.g)(),I=function(){var e=Object(U.a)(Object(D.a)().mark((function e(t){var n;return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,w(!0),e.next=5,N.signInWithPopup(S);case 5:n=e.sent,k({type:J,user:n.user}),C.push(j),w(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),m(e.t0.message),w(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(U.a)(Object(D.a)().mark((function e(){return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),e.next=4,E(n,l);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),m(e.t0.message),w(!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{className:"text-xl mb-3 text-center",children:"Sign In"}),Object(f.jsxs)(M.a,{onFinish:T,children:[Object(f.jsx)(M.a.Item,{name:"email",children:Object(f.jsx)(F.a,{prefix:Object(f.jsx)(G.a,{style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email",onChange:function(e){return a(e.target.value)}})}),Object(f.jsxs)(M.a.Item,{name:"password",children:[Object(f.jsx)(F.a,{prefix:Object(f.jsx)(K.a,{style:{color:"rgba(0,0,0,.25)"}}),onChange:function(e){return b(e.target.value)},type:"password",placeholder:"Password"}),Object(f.jsx)("div",{className:"text-red-500",children:x})]}),Object(f.jsxs)(M.a.Item,{children:[Object(f.jsx)(W.a,{type:"primary",htmlType:"submit",className:"w-full my-2",disabled:g,children:"Sign in"}),Object(f.jsx)(W.a,{type:"danger",htmlType:"submit",className:"w-full mb-2",onClick:I,disabled:g,children:"Continue with Google"}),Object(f.jsxs)("p",{children:["Don't have an account? ",Object(f.jsx)(i.b,{to:o,children:"Sign Up"})]})]})]})]})},ee=function(e){var t=e.history;return Object(f.jsx)("div",{className:"flex h-full",children:Object(f.jsx)("div",{className:"w-64 m-auto",children:Object(f.jsx)(Z,{history:t})})})},te=n(401),ne=n(400),re=function(e){var t=e.title,n=e.handleBoardClick,r=e.addition,a=e.handleBoardStarToggling,c=e.starred;return Object(f.jsxs)("div",{role:"button",tabIndex:"0",onKeyDown:function(){},onClick:function(){return n()},className:"h-32 rounded-md p-2 font-semibold flex ".concat(r?"bg-gray-200 text-gray-900":"bg-blue-500 text-white justify-between"),children:[Object(f.jsx)("div",{className:r?"m-auto":"",children:t}),!r&&Object(f.jsx)("div",{role:"button",tabIndex:"-1",className:"flex",onClick:function(e){e.stopPropagation(),a()},onKeyDown:function(){},children:c?Object(f.jsx)(ne.a,{className:"transform transition-all text-white text-opacity-75 hover:text-opacity-100 hover:translate-x-px scale-100 hover:scale-110 mt-auto"}):Object(f.jsx)(te.a,{className:"transform transition-all text-white text-opacity-75 hover:text-opacity-100 hover:translate-x-px scale-100 hover:scale-110 mt-auto"})})]})},ae=n(394),ce=function(e){var t=e.closeModal,n=e.action,a=e.visible,c=Object(r.useState)(""),s=Object(O.a)(c,2),i=s[0],u=s[1],o=Object(r.useState)(!1),l=Object(O.a)(o,2),j=l[0],b=l[1],d=function(e){return!e||!e.trim()},h=function(){var e=Object(U.a)(Object(D.a)().mark((function e(t){return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(!0),t.preventDefault(),!d(i)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,n({title:i});case 6:u(""),b(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)(ae.a,{title:"Add board",width:"400px",visible:a,onCancel:t,footer:null,children:Object(f.jsxs)("form",{className:"w-full",onSubmit:function(e){return h(e)},children:[Object(f.jsx)(F.a,{className:"mb-3",placeholder:"Title",onChange:function(e){return u(e.target.value)},value:i}),Object(f.jsx)(W.a,{type:"primary",onClick:function(e){return h(e)},loading:j,disabled:d(i),children:"Add"})]})})},se=n(74),ie=n.n(se),ue=n(130),oe=function(e){var t=Array(e.count).fill({});return Object(f.jsxs)("div",{className:"pt-16 py-4 px-3",children:[Object(f.jsxs)("div",{className:"flex mb-3 items-center text-xl",children:[Object(f.jsx)(ie.a,{circle:!0,height:30,width:30}),Object(f.jsx)(ie.a,{width:200,className:"ml-5"})]}),Object(f.jsx)("div",{className:"grid grid-cols-4 gap-4",children:t.map((function(e){return Object(f.jsx)("div",{className:"rounded-md h-32",children:Object(f.jsx)(ie.a,{height:"8rem"})},Object(ue.a)())}))})]})},le=m((function(e){return!!e}))((function(){var e=Object(r.useState)({}),t=Object(O.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!0),s=Object(O.a)(c,2),i=s[0],o=s[1],l=Object(r.useState)(!1),j=Object(O.a)(l,2),b=j[0],h=j[1],x=Object(u.g)();Object(r.useEffect)((function(){o(!0),Object(U.a)(Object(D.a)().mark((function e(){return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:case"end":return e.stop()}}),e)})))()}),[]);var m=function(){var e=Object(U.a)(Object(D.a)().mark((function e(){return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$().on("value",(function(e){e&&(a(g(e.val()||{})),o(!1))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(U.a)(Object(D.a)().mark((function e(t){return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(t);case 2:h(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(U.a)(Object(D.a)().mark((function e(t,n){return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t,{starred:n});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(e){return e?Object.values(e).map((function(t,n){return Object(d.a)(Object(d.a)({},t),{},{key:Object.keys(e)[n]})})):[]};if(i)return Object(f.jsx)(oe,{count:4});var w=n.filter((function(e){return e.starred}));return Object(f.jsxs)("div",{className:"pt-16 py-4 px-3",children:[!!w.length&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"flex mb-3 items-center text-xl",children:[Object(f.jsx)(te.a,{className:"mr-2"})," Starred Boards"]}),Object(f.jsx)("div",{className:"grid grid-cols-4 gap-4 mb-6",children:w.map((function(e){return Object(f.jsx)(re,{title:e.title,handleBoardClick:function(){return x.push("boards/".concat(null===e||void 0===e?void 0:e.key))},handleBoardStarToggling:function(){return v(null===e||void 0===e?void 0:e.key,!e.starred)},starred:e.starred},null===e||void 0===e?void 0:e.key)}))})]}),Object(f.jsxs)("div",{className:"flex mb-3 items-center text-xl",children:[Object(f.jsx)(G.a,{className:"mr-2"})," Personal Boards"]}),Object(f.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[n.map((function(e){return Object(f.jsx)(re,{title:e.title,handleBoardClick:function(){return x.push("boards/".concat(null===e||void 0===e?void 0:e.key))},handleBoardStarToggling:function(){return v(null===e||void 0===e?void 0:e.key,!e.starred)},starred:e.starred},null===e||void 0===e?void 0:e.key)})),Object(f.jsx)(re,{title:"Add new board",addition:!0,handleBoardClick:function(){return h(!0)}})]}),Object(f.jsx)(ce,{action:p,closeModal:function(){return h(!1)},visible:b})]})})),je=n(217),be=n.n(je),de=function(e){var t=Array(e.count).fill({});return Object(f.jsx)("div",{className:"pt-16 bg-blue-500 h-full",children:Object(f.jsx)("div",{className:"grid grid-cols-5 gap-2.5  ml-2.5 mr-2.5",children:t.map((function(e){return Object(f.jsxs)("div",{className:"bg-gray-200 rounded pl-4 pr-3 pt-3",children:[Object(f.jsx)(ie.a,{height:"1rem"}),Object(f.jsx)(ie.a,{height:"4rem",className:"mt-4"}),Object(f.jsx)(ie.a,{height:"4rem",className:"mt-2 mb-10"})]},Object(ue.a)())}))})})},Oe=Object(u.h)(m((function(e){return!!e}))((function(e){var t=Object(r.useState)({lanes:[]}),n=Object(O.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(!1),i=Object(O.a)(s,2),u=i[0],o=i[1];Object(r.useEffect)((function(){Object(U.a)(Object(D.a)().mark((function e(){return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,l();case 3:o(!1);case 4:case"end":return e.stop()}}),e)})))()}),[]);var l=function(){var e=Object(U.a)(Object(D.a)().mark((function e(){var t;return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(b());case 2:t=e.sent.val(),c(j(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(e){return Object(d.a)(Object(d.a)({},e),{},{lanes:((null===e||void 0===e?void 0:e.lanes)||[]).map((function(e){return Object(d.a)(Object(d.a)({},e),{},{cards:(null===e||void 0===e?void 0:e.cards)||[]})}))})},b=function(){var t,n;return null===(t=e.match)||void 0===t||null===(n=t.params)||void 0===n?void 0:n.board},h=function(){var e=Object(U.a)(Object(D.a)().mark((function e(t){return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(b(),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u?Object(f.jsx)(de,{count:5}):Object(f.jsx)(be.a,{className:"pt-16 bg-blue-500 h-full",canAddLanes:!0,editable:!0,data:{lanes:a.lanes||[]},onDataChange:h})}))),he=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("img",{alt:"404",src:"Images/404.svg",className:"m-auto my-10 h-4/5 w-3/5 block"}),Object(f.jsx)("p",{className:"text-center mt-2 text-2xl",children:"The page isn't available. Sorry!"})]})},xe=(y=function(){return Object(f.jsx)(i.a,{children:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(x.Consumer,{children:function(e){return e&&Object(f.jsx)(P,{})}}),Object(f.jsx)("div",{className:"h-full",children:Object(f.jsxs)(u.d,{children:[Object(f.jsx)(u.a,{exact:!0,from:"/",to:"/boards"}),Object(f.jsx)(u.b,{exact:!0,path:o,component:H}),Object(f.jsx)(u.b,{exact:!0,path:l,component:ee}),Object(f.jsx)(u.b,{exact:!0,path:j,component:le}),Object(f.jsx)(u.b,{exact:!0,path:b,component:Oe}),Object(f.jsx)(u.b,{component:he})]})})]})})},function(e){var t=Object(r.useState)(null),n=Object(O.a)(t,2),a=n[0],c=n[1];return Object(r.useEffect)((function(){h.a.auth().onAuthStateChanged((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;c(e)}))}),[]),Object(f.jsx)(x.Provider,{value:a,children:Object(f.jsx)(y,Object(d.a)({},e))})}),fe=function(){return Object(f.jsx)(xe,{})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(388);s.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(V,{initialState:{user:null},reducer:L,children:Object(f.jsx)(fe,{className:"h-full"})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[389,1,2]]]);
//# sourceMappingURL=main.2ae8f6a4.chunk.js.map